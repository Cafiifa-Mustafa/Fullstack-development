;/*FB_PKG_DELIM*/

__d("StoriesCometPrivacySelectorDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7021124274610505"}),null);
__d("StoriesCometPrivacySelectorDialogQuery$Parameters",["StoriesCometPrivacySelectorDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("StoriesCometPrivacySelectorDialogQuery_facebookRelayOperation"),metadata:{},name:"StoriesCometPrivacySelectorDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("StoriesCreateQuery.graphql",["StoriesCreateQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"satpScale"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={alias:null,args:null,kind:"ScalarField",name:"comet_composer_video_uploader_config",storageKey:null},d=[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"surface_nux_id",value:3394},{kind:"Literal",name:"trigger_name",value:"www_fb_stories_comments_producer_interstitial"}],e=[{kind:"Literal",name:"supported",value:"1d2ZZJ"}],f={kind:"InlineFragment",selections:[{args:null,documentName:"StoriesCreateQuery",fragmentName:"CometQuickPromotionWWWFBStoriesCommentsProducerInterstitialRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionWWWFBStoriesCommentsProducerInterstitialRendererStrategy",abstractKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesCreateQuery",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormSteps"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[c,{alias:null,args:d,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[f],storageKey:'renderer_strategy(supported:"1d2ZZJ")'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useQP_quickPromotion"}],storageKey:null}],storageKey:'eligible_promotions(first:1,surface_nux_id:3394,trigger_name:"www_fb_stories_comments_producer_interstitial")'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoriesCreatePreviewRoot_data"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesCreateQuery",selections:[{"if":null,kind:"Defer",label:"useStoriesCreateFormEditorRoot$defer$StoriesCreateFormSATP",selections:[{alias:null,args:[{kind:"Literal",name:"categories",value:["TEXT_BASE"]}],concreteType:"Collection",kind:"LinkedField",name:"visual_composer_satp_collections",plural:!0,selections:[{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"presets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"preset_id",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"font_postscript_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_font_size",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"satpScale"}],concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"custom_thumbnail",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_description",storageKey:null},{alias:"default_thumbnail",args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"scale",value:1},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:h,storageKey:"background_image(height:32,scale:1,width:32)"}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"collection_name",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:'visual_composer_satp_collections(categories:["TEXT_BASE"])'}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[i,{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websites",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_additional_profile_plus",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"profile_plus_delegate_page",plural:!1,selections:[g],storageKey:null},c,{alias:null,args:d,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[i,f],storageKey:'renderer_strategy(supported:"1d2ZZJ")'}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"encrypted_logging_data",storageKey:null},{alias:"surface_id",args:null,kind:"ScalarField",name:"nux_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trigger",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(first:1,surface_nux_id:3394,trigger_name:"www_fb_stories_comments_producer_interstitial")'}],storageKey:null},{alias:null,args:null,concreteType:"StoriesCreateCTALinkOptions",kind:"LinkedField",name:"stories_create_cta_link_options",plural:!1,selections:[{args:null,documentName:"StoriesCreateCTALinkPicker_data",fragmentName:"StoriesCreateCTALinkMainOptions_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"StoriesCreateFormStickerButtonRender",kind:"LinkedField",name:"stories_create_sticker_button_render",plural:!1,selections:[{args:null,documentName:"StoriesCreateFormPhoto_data",fragmentName:"StoriesCreateFormStickerButton_data",fragmentPropName:"data",kind:"ModuleImport"},i],storageKey:null},{alias:null,args:[{kind:"Literal",name:"surface",value:"CREATION_FLOW"}],kind:"ScalarField",name:"stories_mbs_redirect_type",storageKey:'stories_mbs_redirect_type(surface:"CREATION_FLOW")'}]},params:{id:b("StoriesCreateQuery_facebookRelayOperation"),metadata:{},name:"StoriesCreateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("StoriesCreateFormBodyWrapper_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesCreateFormBodyWrapper_data",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormEditorRoot.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormEditorRoot",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateFormSATP"}]},{args:null,kind:"FragmentSpread",name:"StoriesCreateFormBodyWrapper_data"},{args:null,kind:"FragmentSpread",name:"StoriesCreateFormPhoto_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormSteps.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormSteps",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormEditorRoot"},{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormTypeChooser"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormTypeChooser.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormTypeChooser",selections:[{alias:null,args:[{kind:"Literal",name:"surface",value:"CREATION_FLOW"}],kind:"ScalarField",name:"stories_mbs_redirect_type",storageKey:'stories_mbs_redirect_type(surface:"CREATION_FLOW")'},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"profile_plus_delegate_page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoriesCreateFormBodyWrapper_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("StoriesCreatePreviewRoot_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesCreatePreviewRoot_data",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreatePhotoPreview_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("StoriesCreateSATPPreviewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7076452019066699"}),null);
__d("StoriesCreateSATPPreviewQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","StoriesCreateSATPPreviewQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"cardID"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"id",variableName:"cardID"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},f=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],g={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={kind:"Variable",name:"scale",variableName:"scale"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesCreateSATPPreviewQuery",selections:[{alias:"card",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryBackgroundInfo",kind:"LinkedField",name:"story_default_background",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesCardComposerFormat_defaultBackground"}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesCardComposerFormat_message"}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesCardComposerFormat_textFormatMetaData"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoriesCardComposerFormat_story"}],type:"Story",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesCreateSATPPreviewQuery",selections:[{alias:"card",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryBackgroundInfo",kind:"LinkedField",name:"story_default_background",plural:!1,selections:[e,{alias:null,args:null,concreteType:"GradientData",kind:"LinkedField",name:"gradient",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"css",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"portrait_image",plural:!1,selections:f,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},e,{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"font_postscript_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},h],storageKey:null},{alias:null,args:[i],concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"activity_description",plural:!1,selections:[g],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"InlineActivitiesConnection",kind:"LinkedField",name:"inline_activities",plural:!1,selections:[{alias:null,args:null,concreteType:"InlineActivity",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"TaggableActivityIcon",kind:"LinkedField",name:"taggable_activity_icon",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:16},i,{kind:"Literal",name:"width",value:16}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:f,storageKey:null},h],storageKey:null},h],storageKey:null}],storageKey:"inline_activities(first:1)"},{alias:null,args:null,concreteType:"WithTagsConnection",kind:"LinkedField",name:"with_tags",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"explicit_place",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"entity_id",storageKey:null},{kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"Story",abstractKey:null},h],storageKey:null}]},params:{id:b("StoriesCreateSATPPreviewQuery_facebookRelayOperation"),metadata:{},name:"StoriesCreateSATPPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("convertUuidToDomId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return"a"+a}f["default"]=a}),66);
__d("cloneOverlayNode",["FBStoriesCometProductionSitevarConfig","convertUuidToDomId","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.overlayIds;a=a.overlayNode;var e=a.cloneNode(!0);a=a.getBoundingClientRect();e.style.width=a.width+"px";e.style.height=a.height+"px";e.style.position="absolute";e.style.top="-16000px";e.style.zIndex="-10000";var f=d("FBStoriesCometProductionSitevarConfig").fontOffsets;a=b.map(function(a){return e.querySelector("#"+c("convertUuidToDomId")(a))}).filter(Boolean);a.forEach(function(a){a.id=c("convertUuidToDomId")(c("uuidv4")());var b=a.style.fontFamily.replace(/\"/g,"");b=f[b];if(b==null)return;var d=a.style.transform,e=/translateX\(calc\(([^\)]+)\)\) /;e=d.match(e);var g=/translateY\(calc\(([^\)]+)\)\) /;g=d.match(g);var h=/rotate\((.+)deg\)/;h=d.match(h);h=90+(h!=null&&h.length>=2?parseFloat(h[1]):0);d=d;if(e!=null&&e.length>=2){e=e[1];var i=b*Math.cos(h*Math.PI/180);d=d.replace(e,e+" + "+i+"em")}if(g!=null&&g.length>=2){e=g[1];i=b*Math.sin(h*Math.PI/180);d=d.replace(e,e+" + "+i+"em")}a.style.transform=d});return e}g["default"]=a}),98);
__d("StoriesCometPrivacySelectorDialog.entrypoint",["JSResourceForInteraction","StoriesCometPrivacySelectorDialogQuery$Parameters","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{myQueryReference:{parameters:c("StoriesCometPrivacySelectorDialogQuery$Parameters"),variables:{isStoryCommentingEnabled:c("gkx")("2313")}}}}},root:c("JSResourceForInteraction")("StoriesCometPrivacySelectorDialog.react").__setRef("StoriesCometPrivacySelectorDialog.entrypoint")};g["default"]=a}),98);
__d("StoriesCreateMediaUploaderContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={uploader:null};c=a.createContext(b);g["default"]=c}),98);
__d("StoriesCreateViewStateDispatcherContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("StoriesCreateDefaultState",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{composerSessionID:c("uuidv4")(),ctaLinkData:{ctaType:null,link:null,linkInputError:!1,page:null},formData:{step:0},isObjectRotating:!1,isUploading:!1,mediaAttachments:null,overlayRef:{current:null},photoData:{bounds:{height:0,width:0,x:0,y:0},displayedURI:null,offset:{dx:0,dy:0},rotation:0,scale:1},stickerData:{editingID:null,musicSticker:null,productSticker:null,shouldShowEntrypoint:!1,shouldShowGrid:!1,shouldShowProductTypeahead:!1,stickers:[]},storyID:"add_later",videoData:{currentDuration:0,duration:0,initialDuration:0,isPreviewable:null,isTrimming:!1,lastMutedUpdateReason:null,lastPlaybackUpdateReason:null,muted:null,paused:null,startTime:0}}}g.getStoriesCreateInitialState=a}),98);
__d("StoriesCreateViewStateContext",["StoriesCreateDefaultState","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(d("StoriesCreateDefaultState").getStoriesCreateInitialState());g["default"]=b}),98);
__d("withStoriesCreateViewStatePart",["StoriesCreateViewStateContext","react","withSomeContext"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,b){return c("withSomeContext")(a,c("StoriesCreateViewStateContext"),b)}g["default"]=a}),98);
__d("StoriesComposerCometHeadlessMediaUploader.react",["CometPlaceholder.react","JSResourceForInteraction","StoriesCreateMediaUploaderContext","StoriesCreateViewStateDispatcherContext","lazyLoadComponent","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerHeadlessMediaUploaderImpl.react").__setRef("StoriesComposerCometHeadlessMediaUploader.react"));function a(a){var b=a.mediaAttachments;a=a.mediaUploadStatuses;var d=j(c("StoriesCreateViewStateDispatcherContext")),e=j(c("StoriesCreateMediaUploaderContext"));e=e.uploader;return e==null||b==null||b[0].fileType==="VIDEO"?null:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{}),children:i.jsx(k,{composerUploader:e,dispatch:d,mediaAttachments:b,mediaUploadStatuses:a,useOptimisticMediaPost:!1})})}a.displayName=a.name+" [from "+f.id+"]";b=c("withStoriesCreateViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses}});g["default"]=b}),98);
__d("StoriesCreateMediaReducer",["composerMediaAttachmentReducer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"ADD_MEDIA_ATTACHMENT_ITEMS":case"REMOVE_MEDIA_ATTACHMENT_ITEM":case"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS":case"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED":case"QUEUE_UPLOADS":case"MARK_UPLOADS_CLIENT_PROCESSING":case"MARK_UNKNOWN_UPLOADS_AS_PHOTO":case"MEDIA_UPLOAD_STARTED":case"MEDIA_UPLOAD_PROGRESS":case"MEDIA_UPLOAD_SUCCESSFUL":case"REORDER_MEDIA_ATTACHMENT_ITEM":case"SAVE_MEDIA_EDITS":case"SET_MEDIA_ATTACHMENT_CAPTION":case"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW":case"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS":case"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS":case"SET_PHOTO3D_CREATION_DATA":b=b;b=c("composerMediaAttachmentReducer")({mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses},b);var d=b.mediaAttachments;b=b.mediaUploadStatuses;return babelHelpers["extends"]({},a,{mediaAttachments:d,mediaUploadStatuses:b})}return a}g["default"]=a}),98);
__d("StoriesCreateUtils",["fbt","StoriesCreateMediaTypeEnum","StoriesGating","cometIsMimeTypeForMedia","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";b={getStoriesBeginningViewState:function(a){if(a!=null){var b;a=Array(a)[0];b=String((b=a==null?void 0:a.uploadID)!=null?b:"");b={data:{id:b},file:a,fileObjectURL:URL.createObjectURL(a),fileType:"PHOTO",percentComplete:100,state:"UPLOADING"};return{formData:{mediaType:c("StoriesCreateMediaTypeEnum").PHOTO,step:1},mediaAttachments:[b]}}return null}};function a(a){if(a.length>0)for(var b=0;b<a.length;b++){var c=a[b].type;c=!(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(c)&&d("StoriesGating").isCometStoriesVideoProductionEnabled())&&!d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(c);if(c){c=d("StoriesGating").isCometStoriesVideoProductionEnabled()?h._("__JHASH__oUAKwa69b9c__JHASH__"):h._("__JHASH__UnAt1CvX1LT__JHASH__");d("cometPushToast").cometPushErrorToast({message:c});return}}}g.StoriesCreateUtils=b;g.IsFileSupported=a}),98);
__d("StoriesCreateViewStateReducersContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={current:new Map()};c=a.createContext(b);g["default"]=c}),98);
__d("useStoriesCreateReducer",["StoriesCreateViewStateReducersContext","useContextRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useContextRef")(a,c("StoriesCreateViewStateReducersContext"))}g["default"]=a}),98);
__d("StoriesCreateMediaSelector.react",["fbt","ix","CometAspectRatioContainer.react","CometFileSelector.react","CometImage.react","CometPressable.react","StoriesCreateConstants","StoriesCreateMediaReducer","StoriesCreateUtils","StoriesCreateViewStateDispatcherContext","StoriesGating","TetraIcon.react","fbicon","fileInputAcceptValues","react","useFileDragEvents","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=2,o={absolutePosition:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},cardWidth:{width:"x1bhdf0j",$$css:!0},icon:{alignItems:"x6s0dn4",alignSelf:"xamitd3",backgroundColor:"x1jx94hy",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x123plnn",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",marginBottom:"x1e56ztr",position:"x1n2onr6",width:"x187nhsf",$$css:!0},root:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,flexDirection:"xdt5ytf",justifyContent:"xl56j7k",overflowWrap:"x1mzt3pk",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},rounded:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},text:{boxSizing:"x9f619",color:"x14ctfv",display:"x78zum5",fontSize:"x67ct29",fontWeight:"x117nqv4",justifyContent:"xl56j7k",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",position:"x1n2onr6",textAlign:"x2b8uid",width:"xh8yej3",$$css:!0}};function a(a){var b=a.onFilesSelect;c("useStoriesCreateReducer")(c("StoriesCreateMediaReducer"));var e=m(c("StoriesCreateViewStateDispatcherContext"));a=l(function(a){d("StoriesCreateUtils").IsFileSupported(a);a=Array.from(a);e({files:a,type:"ADD_MEDIA_ATTACHMENT_ITEMS"});b(a.map(function(a){return a.type}))},[e,b]);c("useFileDragEvents")(a);var f=d("fileInputAcceptValues").PHOTO,g=h._("__JHASH__atxTWwD-aI0__JHASH__");d("StoriesGating").isCometStoriesVideoProductionEnabled()&&(f=f.concat(d("fileInputAcceptValues").VIDEO),g=h._("__JHASH__y3d3GyAVmqP__JHASH__"));var j=d("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,p=d("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH;return k.jsx(c("CometFileSelector.react"),{accept:f,onFilesSelected:a,children:function(a){return k.jsx(c("CometPressable.react"),{display:"inline",label:h._("__JHASH__Nx5XgQUGmoD__JHASH__"),onPress:function(){e({type:"CLEAR_ERROR"}),a()},overlayRadius:8,testid:void 0,xstyle:o.cardWidth,children:k.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:(p-n)/j,children:k.jsxs("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xds687c xdt5ytf xl56j7k x1mzt3pk x10l6tqk x17qophe x13vifvy",children:[k.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:p/j,xstyle:[o.absolutePosition,o.rounded],children:k.jsx(c("CometImage.react"),{objectFit:"cover",src:i("1394933"),xstyle:o.absolutePosition})}),k.jsx("div",{className:"x6s0dn4 xamitd3 x1jx94hy x14yjl9h xudhj91 x18nykt9 xww2gxu x123plnn x78zum5 xn3w4p2 xl56j7k x1e56ztr x1n2onr6 x187nhsf",children:k.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(i("481799"),20),size:20})}),k.jsx("div",{className:"x9f619 x14ctfv x78zum5 x67ct29 x117nqv4 xl56j7k x5ib6vp xc73u3c x1n2onr6 x2b8uid xh8yej3",children:g})]})})})}})}a.displayName=a.name+" [from "+f.id+"]";g.StoriesCreateMediaSelector=a}),98);
__d("StoriesCreateNullStateView.react",["fbt","ix","CometAspectRatioContainer.react","CometImage.react","CometPressable.react","QPLUserFlow","QuickPerformanceLogger","StoriesCreateConstants","StoriesCreateMediaSelector.react","StoriesCreateMediaTypeEnum","StoriesCreateViewStateDispatcherContext","StoriesGating","TetraIcon.react","cometIsMimeTypeForMedia","fbicon","qpl","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useContext,n=b.useEffect,o={cardWidth:{width:"x1bhdf0j",$$css:!0},pickerContainer:{display:"x78zum5",justifyContent:"x1qughib",width:"xh8yej3",$$css:!0},satpContainer:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,flexDirection:"xdt5ytf",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},satpIcon:{alignItems:"x6s0dn4",backgroundColor:"x1jx94hy",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x123plnn",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",marginBottom:"x1e56ztr",position:"x1n2onr6",width:"x187nhsf",$$css:!0},satpImage:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0},textWrapper:{boxSizing:"x9f619",color:"x14ctfv",display:"x78zum5",fontSize:"x67ct29",fontWeight:"x117nqv4",justifyContent:"xl56j7k",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",position:"x1n2onr6",textAlign:"x2b8uid",width:"xh8yej3",$$css:!0}};function a(a){a=a.composerSessionID;var b=m(c("StoriesCreateViewStateDispatcherContext")),e=d("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH,f=d("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SPACE_BETWEEN_SELECTOR;n(function(){(j||(j=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(741087294,"2028"),2)},[]);n(function(){c("QPLUserFlow").start(c("qpl")._(13250512,"1219"))},[a]);return l.jsxs("div",{className:"x78zum5 x1qughib xh8yej3",style:{maxWidth:2*e+f},children:[l.jsx(d("StoriesCreateMediaSelector.react").StoriesCreateMediaSelector,{onFilesSelect:function(a){var e=c("StoriesCreateMediaTypeEnum").PHOTO;d("StoriesGating").isCometStoriesVideoProductionEnabled()&&d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a[0])&&(e=c("StoriesCreateMediaTypeEnum").VIDEO);b({formData:{mediaType:e,step:1},type:"step"})}}),l.jsx(c("CometPressable.react"),{onPress:function(){b({formData:{mediaType:c("StoriesCreateMediaTypeEnum").SATP,step:1},type:"step"}),b({type:"CLEAR_ERROR"})},overlayRadius:8,testid:void 0,xstyle:o.cardWidth,children:l.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:218/330,children:l.jsxs("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xds687c xdt5ytf xl56j7k x10l6tqk x17qophe x13vifvy",children:[l.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:l.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:218/330,children:l.jsx(c("CometImage.react"),{src:i("1394934")})})}),l.jsx("div",{className:"x6s0dn4 x1jx94hy x14yjl9h xudhj91 x18nykt9 xww2gxu x123plnn x78zum5 xn3w4p2 xl56j7k x1e56ztr x1n2onr6 x187nhsf",children:l.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(i("486064"),20),size:20})}),l.jsx("div",{className:"x9f619 x14ctfv x78zum5 x67ct29 x117nqv4 xl56j7k x5ib6vp xc73u3c x1n2onr6 x2b8uid xh8yej3",children:h._("__JHASH__e7R1rkJ7xXL__JHASH__")})]})})})]})}a.displayName=a.name+" [from "+f.id+"]";e=c("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID}});g["default"]=e}),98);
__d("StoriesCreatePhotoPreviewFrame.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={overlay:{height:"x5yr21d",pointerEvents:"x47corl",$$css:!0},overlayBox:{borderTopColor:"xgjxtca",borderEndColor:"xnuwv8w",borderBottomColor:"x1lqxvo2",borderStartColor:"xgi2ibe",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxSizing:"x9f619",height:"x5yr21d",position:"x10l6tqk",$$css:!0},root:{height:"x5yr21d",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},rounded:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0}};function a(a,b){var d=a.children,e=a.frameWidth;a=a.rounded;a=a===void 0?!1:a;return j.jsx("div",{className:"x5yr21d x47corl x10l6tqk",children:j.jsx("div",{className:"x5yr21d x47corl",style:{width:e+"px"},children:j.jsx("div",{className:(h||(h=c("stylex")))(k.overlayBox,a&&k.rounded),ref:b,style:{width:e+"px"},children:d})})})}a.displayName=a.name+" [from "+f.id+"]";b=j.forwardRef(a);g["default"]=b}),98);
__d("useStoriesCreatePreviewDimensions",["CometAppNavigationConstants","CometRouteRenderType","StoriesCreateConstants","useCometWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,f=(e=d("StoriesCreateConstants")).PREVIEW_DIMENSIONS.COMET_PUSH_VIEW_HEIGHT,g=e.PREVIEW_DIMENSIONS.CONTAINER_HORIZONTAL_PADDING,h=e.PREVIEW_DIMENSIONS.CONTAINER_MAX_WIDTH,i=e.PREVIEW_DIMENSIONS.CONTAINER_VERTICAL_PADDING,j=e.PREVIEW_DIMENSIONS.CONTENT_HEADER_HEIGHT,k=e.PREVIEW_DIMENSIONS.CONTENT_HORIZONTAL_PADDING,l=e.PREVIEW_DIMENSIONS.CONTENT_VERTICAL_PADDING;e=e.PREVIEW_DIMENSIONS.SIDE_PANE_WIDTH;var m=d("CometRouteRenderType").useIsPushView(),n=c("useCometWindowSize")(),o=n.innerHeight;n=n.innerWidth;h=Math.min(h,n-g-k-e);n=o-i-l-j-a-b;n-=m?f:d("CometAppNavigationConstants").HEADER_HEIGHT;return{containerRectHeight:n,containerRectWidth:h}}g["default"]=a}),98);
__d("useStoriesCreateMediaFrame",["react","useStoriesCreatePreviewDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){a=a===void 0?{}:a;var b=a.footerHeight;a=a.headerHeight;var d=j(0),e=d[0],f=d[1];d=j(0);var g=d[0],h=d[1];d=c("useStoriesCreatePreviewDimensions")((d=a)!=null?d:0,(a=b)!=null?a:0);var k=d.containerRectHeight,l=d.containerRectWidth;i(function(){var a=k*.5625;h(a);f(Math.max(l-a,0)/2)},[k,l]);return{border:e,containerRectHeight:k,containerRectWidth:l,frameWidth:g}}g["default"]=a}),98);
__d("useStoriesCreatePhotoFrame",["StoriesCreateConstants","useStoriesCreateMediaFrame"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("useStoriesCreateMediaFrame")({footerHeight:d("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,headerHeight:d("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT})}g["default"]=a}),98);
__d("StoriesCreatePhotoPreviewPlaceholder.react",["CollageItemFallback.react","Locale","StoriesCreateConstants","StoriesCreatePhotoPreviewFrame.react","react","stylex","useStoriesCreatePhotoFrame"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={item:{width:"xh8yej3",$$css:!0},overlay:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x78zum5",height:"x1qalc10",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"xtzzx4i",left:null,right:null,transform:"xuuh30",$$css:!0},overlayRTL:{transform:"xitnhlw",$$css:!0},root:{backgroundColor:"xal61yo",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",bottom:"x1ey2m1c",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(){var a=d("Locale").isRTL(),b=c("useStoriesCreatePhotoFrame")();b=b.frameWidth;var e=d("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,f=d("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT;return j.jsx("div",{className:"xal61yo x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1ey2m1c x10l6tqk x13vifvy xh8yej3",children:j.jsxs("div",{className:(h||(h=c("stylex")))(k.overlay,a&&k.overlayRTL),style:{height:"calc(100% - "+(e+f)+"px",top:f+"px",width:b},children:[j.jsx("div",{className:"xh8yej3",children:j.jsx(c("CollageItemFallback.react"),{fileType:"PHOTO"})}),j.jsx(c("StoriesCreatePhotoPreviewFrame.react"),{frameWidth:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreatePreviewPlaceholder.react",["CometGlimmer.react","CometTheme.react","StoriesCreateConstants","react","useStoriesCreateMediaFrame"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x5yr21d",marginBottom:"xod5an3",marginTop:"x14vqqas",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xal61yo",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(){var a=d("StoriesCreateConstants").SATP_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,b=d("StoriesCreateConstants").SATP_PREVIEW_DIMENSIONS.HEADER_HEIGHT;a=c("useStoriesCreateMediaFrame")({footerHeight:a,headerHeight:b});b=a.frameWidth;return i.jsx(c("CometTheme.react"),{theme:"dark",xstyle:j.root,children:i.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c x5yr21d xod5an3 x14vqqas x6ikm8r x10wlt62 x1n2onr6",style:{width:b+"px"},children:i.jsx(c("CometGlimmer.react"),{index:0,xstyle:j.glimmer})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreatePreviewUtils",["CometRelayEnvironmentFactory"],(function(a,b,c,d,e,f,g){"use strict";a=d("CometRelayEnvironmentFactory").createLocalEnvironment();g.storiesCreatePreviewEnvironment=a}),98);
__d("StoriesCreatePreviewRoot.react",["CometPlaceholder.react","CometRelay","CometUFIVideoPlayerUtils","JSResourceForInteraction","RelayHooks","StoriesCreateMediaTypeEnum","StoriesCreatePhotoPreviewPlaceholder.react","StoriesCreatePreviewPlaceholder.react","StoriesCreatePreviewRoot_data.graphql","StoriesCreatePreviewUtils","lazyLoadComponent","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesCreatePhotoPreview.react").__setRef("StoriesCreatePreviewRoot.react")),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesCreateSATPPreview.react").__setRef("StoriesCreatePreviewRoot.react")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesCreateVideoPreview.react").__setRef("StoriesCreatePreviewRoot.react")),n=h!==void 0?h:h=b("StoriesCreatePreviewRoot_data.graphql");function a(a){var b=a.dataRef;a=a.mediaType;b=d("RelayHooks").useFragment(n,b);if(a===c("StoriesCreateMediaTypeEnum").PHOTO)return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("StoriesCreatePhotoPreviewPlaceholder.react"),{}),children:j.jsx(k,{dataRef:b})});else if(a===c("StoriesCreateMediaTypeEnum").VIDEO)return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometUFIVideoPlayerUtils").CometUFIVideoPlayerStateAndControllerContextProvider,{children:j.jsx(m,{})})});else return j.jsx(d("CometRelay").RelayEnvironmentProvider,{environment:d("StoriesCreatePreviewUtils").storiesCreatePreviewEnvironment,children:j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("StoriesCreatePreviewPlaceholder.react"),{}),children:j.jsx(l,{})})})}a.displayName=a.name+" [from "+f.id+"]";e=c("withStoriesCreateViewStatePart")(a,function(a){return{mediaType:(a=a.formData)==null?void 0:a.mediaType}});g["default"]=e}),98);
__d("StoriesCreateStoryReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"set_is_uploading":return babelHelpers["extends"]({},a,{isUploading:b.value})}return a}f["default"]=a}),66);
__d("StoriesCreateFormReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){switch(b.type){case"step":return babelHelpers["extends"]({},a,{formData:b.formData})}return a}f["default"]=a}),66);
__d("StoriesCreateFormBodyPlaceholder.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateFormBodyWrapper.react",["fbt","ix","CometPlaceholder.react","CometRelay","StoriesCreateFormBodyPlaceholder.react","StoriesCreateFormBodyWrapper_data.graphql","TetraListCell.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m=j!==void 0?j:j=b("StoriesCreateFormBodyWrapper_data.graphql");function a(a){var b,e=a.children;a=a.dataRef;a=d("CometRelay").useFragment(m,a);a=a==null?void 0:(a=a.viewer)==null?void 0:a.actor;b=a==null?void 0:(b=a.profile_picture)==null?void 0:b.uri;var f=h._("__JHASH__b3je0TRml0g__JHASH__",[h._param("name of the stories creator",a==null?void 0:a.name)]);(a==null?void 0:a.name)==null&&(f=h._("__JHASH__ErpUC6P_iYe__JHASH__"));return l.jsxs(l.Fragment,{children:[l.jsx(c("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:60,source:{uri:(a=b)!=null?a:i("762679")},type:"profile-photo"},headline:f}),l.jsx("div",{className:"xmv5v2v xjm9jq1 x1sy10c2"}),l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("StoriesCreateFormBodyPlaceholder.react"),{}),children:l.jsx("div",{className:"x9f619 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xs83m0k x1nhvcw1 x1swvt13 x1pi30zi xh8yej3",children:e})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateFormPhotoPlaceholder.react",["CometListCellGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"xp7jhwk x1xmf6yo xi55695",children:i.jsx(c("CometListCellGlimmer.react"),{imageSize:48,imageStyle:"circle"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateFormSATPPlaceholder.react",["CometGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={backgroundPicker:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xtha0ss",marginTop:"xw7yly9",$$css:!0},fontPicker:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xnnlda6",marginTop:"xw7yly9",$$css:!0},root:{width:"x2ewi1q",$$css:!0},textArea:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xkq7avx",marginTop:"xw7yly9",$$css:!0}};function a(){return i.jsxs("div",{className:"x2ewi1q",children:[i.jsx(c("CometGlimmer.react"),{index:0,xstyle:j.textArea}),i.jsx(c("CometGlimmer.react"),{index:1,xstyle:j.fontPicker}),i.jsx(c("CometGlimmer.react"),{index:1,xstyle:j.backgroundPicker})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateSATPReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.satpData;c==null&&(c={background:null,backgroundColor:null,backgroundGradientColor:null,backgroundGradientDirection:null,fontColor:null,fontID:null,fontName:null,fontUrl:null,inputError:!1,presetID:null,text:""});switch(b.type){case"satp_update_text":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{inputError:!1,text:b.text})});case"satp_update_background":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{background:b.background,backgroundColor:b.backgroundColor,backgroundGradientColor:b.backgroundGradientColor,backgroundGradientDirection:b.backgroundGradientDirection,fontColor:b.fontColor,presetID:b.presetID})});case"satp_update_font":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{fontID:b.fontID,fontName:b.fontName,fontUrl:b.fontUrl})});case"satp_update_input_error":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{inputError:!0})})}return a}f["default"]=a}),66);
__d("StoriesCreateSettingButton.react",["fbt","ix","StoriesCometPrivacySelectorDialog.entrypoint","TetraCircleButton.react","fbicon","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(){var a=c("useCometEntryPointDialog")(c("StoriesCometPrivacySelectorDialog.entrypoint"),{}),b=a[0];return k.jsx(c("TetraCircleButton.react"),{color:"primary",icon:d("fbicon")._(i("497567"),20),label:h._("__JHASH__v2bgOzzUhMW__JHASH__"),onPress:function(){b({})},size:36})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useStoriesCreateFormEditorRoot",["fbt","CometPlaceholder.react","CometRelay","JSResourceForInteraction","StoriesCreateFormBodyWrapper.react","StoriesCreateFormPhotoPlaceholder.react","StoriesCreateFormSATPPlaceholder.react","StoriesCreateMediaTypeEnum","StoriesCreateSATPReducer","StoriesCreateSettingButton.react","StoriesCreateViewStateContext","cr:1448152","lazyLoadComponent","react","useStoriesCreateFormEditorRoot.graphql","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useContext,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesCreateFormSATP.react").__setRef("useStoriesCreateFormEditorRoot")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesCreateFormPhoto.react").__setRef("useStoriesCreateFormEditorRoot")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("StoriesCreateFormVideo.react").__setRef("useStoriesCreateFormEditorRoot")),p=i!==void 0?i:i=b("useStoriesCreateFormEditorRoot.graphql");function a(a){var e=l(c("StoriesCreateViewStateContext"));a=d("CometRelay").useFragment(p,a);c("useStoriesCreateReducer")(c("StoriesCreateSATPReducer"));e=e.formData;var f=k.jsx("div",{children:h._("__JHASH__9OGz8ZnAGKc__JHASH__")});if((e==null?void 0:e.mediaType)!=null)switch(e==null?void 0:e.mediaType){case c("StoriesCreateMediaTypeEnum").SATP:f=k.jsx(c("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("StoriesCreateFormSATPPlaceholder.react"),{}),children:k.jsx(m,{satp:a})})});break;case c("StoriesCreateMediaTypeEnum").PHOTO:f=k.jsx(c("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("StoriesCreateFormPhotoPlaceholder.react"),{}),children:k.jsx(n,{dataRef:a})})});break;case c("StoriesCreateMediaTypeEnum").VIDEO:f=k.jsx(c("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:k.jsx(o,{})})}return{body:f,footer:k.jsx(b("cr:1448152"),{}),hideBreadcrumb:!0,title:h._("__JHASH__rLp7PFpVEKR__JHASH__"),titleAddOn:k.jsx(c("StoriesCreateSettingButton.react"),{})}}g["default"]=a}),98);
__d("StoriesCreateFormTypeChooserMBSRedirect.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometListCellStrict.react","TetraTextPairing.react","XBizSuiteControllerRouteBuilder","fbicon","goUriOnNewWindow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=function(a){return a?h._("__JHASH__6Mto0UWYRlE__JHASH__"):h._("__JHASH__Od-jnFMAGZi__JHASH__")},m=function(a){return a?h._("__JHASH__nWn5onWoHvb__JHASH__"):h._("__JHASH__CM6foB-srf8__JHASH__")},n=function(a){return a?h._("__JHASH__hn88qsgNwBS__JHASH__"):h._("__JHASH__CTyw2G0CpqU__JHASH__")},o=function(a){return a?h._("__JHASH__VfbMY20Bu9V__JHASH__"):h._("__JHASH__cFkh9Z5sat-__JHASH__")};function a(a){var b=a.pageID;a=a.upsellType;if(a==null)return null;a=a==="XFAM";var e=c("XBizSuiteControllerRouteBuilder").buildURL({asset_id:b,modal:"stories_composer",nav_ref:"fb_stories_redirect",rest:"posts/active_stories"});return k.jsxs(c("CometColumn.react"),{paddingTop:20,spacing:12,children:[k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("TetraTextPairing.react"),{body:m(a),bodyColor:"secondary",headline:l(a),headlineLineLimit:1,level:4})}),k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("CometListCellStrict.react"),{addOnEnd:{color:"secondary",icon:d("fbicon")._(i("822776"),24),type:"icon"},addOnStart:{icon:d("fbicon")._(i("483768"),16),size:48,type:"contained-icon"},headline:n(a),headlineLineLimit:1,level:3,meta:o(a),onPress:function(){c("goUriOnNewWindow")(e.toString())},paddingHorizontal:0})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateInlineErrorRenderer.react",["JSResourceForInteraction","lazyLoadComponent","react","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerInlineErrorRenderer.react").__setRef("StoriesCreateInlineErrorRenderer.react"));function a(a){var b=a.errorMessage;a=a.xstyle;return b!=null&&i.jsx(j,{error:b,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";b=c("withStoriesCreateViewStatePart")(a,function(a){return{errorMessage:a.errorMessage}});g["default"]=b}),98);
__d("useStoriesCreateFormTypeChooser",["fbt","CometRelay","StoriesCreateFormBodyWrapper.react","StoriesCreateFormTypeChooserMBSRedirect.react","StoriesCreateInlineErrorRenderer.react","StoriesCreateSettingButton.react","react","useStoriesCreateFormTypeChooser.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={errorMessage:{marginStart:"xmn8rco",marginLeft:null,marginRight:null,marginEnd:"x1h5jrl4",$$css:!0}},m=i!==void 0?i:i=b("useStoriesCreateFormTypeChooser.graphql");function a(a){var b;a=d("CometRelay").useFragment(m,a);var e=(a==null?void 0:a.stories_mbs_redirect_type)!=null;b=(b=a==null?void 0:(b=a.viewer)==null?void 0:(b=b.profile_plus_delegate_page)==null?void 0:b.id)!=null?b:"";return{body:k.jsx(c("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:e?k.jsx(c("StoriesCreateFormTypeChooserMBSRedirect.react"),{pageID:b,upsellType:a==null?void 0:a.stories_mbs_redirect_type}):null}),footer:k.jsx(c("StoriesCreateInlineErrorRenderer.react"),{xstyle:l.errorMessage}),hideBreadcrumb:!0,title:h._("__JHASH__rLp7PFpVEKR__JHASH__"),titleAddOn:k.jsx(c("StoriesCreateSettingButton.react"),{})}}g["default"]=a}),98);
__d("useStoriesCreateFormSteps",["CometRelay","StoriesCreateFormReducer","useStoriesCreateFormEditorRoot","useStoriesCreateFormSteps.graphql","useStoriesCreateFormTypeChooser","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useStoriesCreateFormSteps.graphql");function a(a){c("useStoriesCreateReducer")(c("StoriesCreateFormReducer"));a=d("CometRelay").useFragment(i,a);var b=c("useStoriesCreateFormTypeChooser")(a);a=c("useStoriesCreateFormEditorRoot")(a);return[b,a]}g["default"]=a}),98);
__d("StoriesCreate.react",["fbt","Actor","CometCreationLayout.react","CometRelay","FBLogger","StoriesComposerCometHeadlessMediaUploader.react","StoriesCreateMediaReducer","StoriesCreateMediaUploaderContext","StoriesCreateNullStateView.react","StoriesCreatePreviewRoot.react","StoriesCreateQuery.graphql","StoriesCreateStoryReducer","StoriesCreateViewStateDispatcherContext","XCometStoriesCreateControllerRouteBuilder","cometComposerLogger","getComposerMediaFileUploader","gkx","react","useQP","useRoutePassthroughProps","useStoriesCreateFormSteps","useStoriesCreateReducer","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.useState,p=i!==void 0?i:i=b("StoriesCreateQuery.graphql");function a(a){var b,e=a.composerSessionID,f=a.queryReference;a=a.step;var g=d("Actor").useActor(),i=g[0];g=o({uploader:null});var j=g[0],q=g[1];g=d("CometRelay").usePreloadedQuery(p,f);c("useStoriesCreateReducer")(c("StoriesCreateMediaReducer"));c("useStoriesCreateReducer")(c("StoriesCreateStoryReducer"));var r=c("useRoutePassthroughProps")();m(function(){var a=r&&r.entryPoint!=null&&r.sourceSurface!=null?{composerEntryPointName:String(r.entryPoint),composerSourceSurface:String(r.sourceSurface),composerType:"stories"}:{composerEntryPointName:"add_to_story_stories_surface",composerSourceSurface:"newsfeed",composerType:"stories"};c("cometComposerLogger")({fields:a,type:"COMPOSER_ENTRY"},e)},[]);f=(f=g.viewer)==null?void 0:(f=f.eligible_promotions)==null?void 0:(f=f.nodes)==null?void 0:f[0];var s=f==null?void 0:(b=f.comet_qp_sections)==null?void 0:b.renderer_strategy;b=c("useQP")(f);var t=b[0],u=b[1];f=n(function(){if(s!=null&&t){u.onVisible();return k.jsx(d("CometRelay").MatchContainer,{match:s,props:{canRender:t,onClose:function(){u.onDismiss()}}})}},[t,s,u]);var v=g==null?void 0:(b=g.viewer)==null?void 0:b.comet_composer_video_uploader_config,w=n(function(){if(v==null)return{};try{return JSON.parse(v)}catch(a){c("FBLogger")("fbstories").info("Failed to parse JSON in video uploader config");return{}}},[v]);m(function(){var a=c("getComposerMediaFileUploader")(i,w,e,!1),b=a[0],d=a[1];b.photoUploader.setOption("handleErrorAfterUnload",!0);b.photoUploader.setUploadData(babelHelpers["extends"]({},b.photoUploader.getUploadData(),{waterfallxapp:"comet_stories"}));q({uploader:b});return function(){c("gkx")("705")&&(q({uploader:null}),d())}},[i,e,w]);b=c("useStoriesCreateFormSteps")(g);var x=l(c("StoriesCreateViewStateDispatcherContext"));b={breadcrumbsOverride:[],creationCategoryName:h._("__JHASH__3H7YDu5utR___JHASH__"),creationCategoryURL:c("XCometStoriesCreateControllerRouteBuilder").buildURL({}),currentFormStep:a,formAreaTitle:h._("__JHASH__a7E6YPj9ESz__JHASH__"),formSteps:b,previewAreaTitle:h._("__JHASH__cBSx-Hj6W6v__JHASH__"),previewContainerProps:{allowFocus:!0,hasResponsiveToggle:!1}};if(a===0){b=babelHelpers["extends"]({},b,{previewNullState:k.jsx(c("StoriesCreateNullStateView.react"),{})});return k.jsx(c("CometCreationLayout.react"),babelHelpers["extends"]({isLeftRailSecondary:!0},b))}else b=babelHelpers["extends"]({},b,{preview:k.jsx(c("StoriesCreatePreviewRoot.react"),{dataRef:g}),previewErrorFallback:function(){x({errorMessage:h._("__JHASH__sWqcIwg0eXV__JHASH__"),type:"RESET_VIEWSTATE_SET_ERROR"});return null}});return k.jsxs(c("StoriesCreateMediaUploaderContext").Provider,{value:j,children:[k.jsx(c("StoriesComposerCometHeadlessMediaUploader.react"),{}),k.jsx(c("CometCreationLayout.react"),babelHelpers["extends"]({isLeftRailSecondary:!0},b)),f]})}a.displayName=a.name+" [from "+f.id+"]";e=c("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID,step:((a=a.formData)==null?void 0:a.step)||0}});g["default"]=e}),98);
__d("StoriesCreateRootPlaceholder.react",["fbt","CometContentArea.react","CometGlimmer.react","CometLeftRailAndMainContentContainer.react","CometLeftRailBreadcrumbs.react","CometLeftRailComponent.react","CometLeftRailHeader.react","CometListCellGlimmer.react","StoriesCreateConstants","StoriesCreateSettingButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={pickerContainer:{display:"x78zum5",justifyContent:"x1qughib",$$css:!0},sectionLine:{backgroundColor:"x14nfmen",height:"xjm9jq1",marginTop:"x1sy10c2",$$css:!0},tile:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(){var a=d("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,b=d("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH,e=d("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SPACE_BETWEEN_SELECTOR;a={height:a,width:b};b=j.jsxs("div",{className:"x78zum5 x1qughib",style:{width:2*b+e},children:[j.jsx("div",{style:a,children:j.jsx(c("CometGlimmer.react"),{index:0,xstyle:k.tile})}),j.jsx("div",{style:a,children:j.jsx(c("CometGlimmer.react"),{index:1,xstyle:k.tile})})]});e=h._("__JHASH__rLp7PFpVEKR__JHASH__");return j.jsx(c("CometLeftRailAndMainContentContainer.react"),{leftRailContent:j.jsx(c("CometLeftRailComponent.react"),{header:j.jsx(c("CometLeftRailHeader.react"),{auxiliary:j.jsx(c("StoriesCreateSettingButton.react"),{}),meta:j.jsx(c("CometLeftRailBreadcrumbs.react"),{breadcrumbs:[{label:h._("__JHASH__3H7YDu5utR___JHASH__"),onPress:void 0}]}),title:e}),primaryNav:j.jsxs("div",{children:[j.jsx(c("CometListCellGlimmer.react"),{imageSize:60,imageStyle:"circle"}),j.jsx("div",{className:"x14nfmen xjm9jq1 x1sy10c2"})]})}),leftRailHeading:e,leftRailPrimary:!0,mainContent:j.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:b}),mainContentHeading:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreatePreviewUpdater",["StoriesCreatePreviewUtils","StoriesCreateSATPPreviewQuery.graphql","WebPixelRatio","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return d("relay-runtime").createOperationDescriptor(c("StoriesCreateSATPPreviewQuery.graphql"),{cardID:a,scale:d("WebPixelRatio").get()})}function i(a){var b,c="32FFFFFF";if((a==null?void 0:(b=a.satpData)==null?void 0:b.text)!=null&&(a==null?void 0:(b=a.satpData)==null?void 0:b.text.length)>0){c=(b=a==null?void 0:a.satpData.fontColor)!=null?b:"FFFFFFFF"}return{card:{__typename:"Story",activity_description:null,explicit_place:null,id:"add_later",inline_activities:{nodes:[]},message:{aggregated_ranges:[],color_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:[],text:(a==null?void 0:(b=a.satpData)==null?void 0:b.text)||""},story_default_background:{color:"FF2B2D34",gradient:{css:"linear-gradient(135deg,rgba(43,45,52,1.00) 0%,rgba(19,19,19,1.00) 100%)"},portrait_image:null},text_format_metadata:{background_color:(a==null?void 0:(b=a.satpData)==null?void 0:b.backgroundColor)||null,background_gradient_color:(a==null?void 0:(b=a.satpData)==null?void 0:b.backgroundGradientColor)||null,background_gradient_direction:(a==null?void 0:(b=a.satpData)==null?void 0:b.backgroundGradientDirection)||null,color:c,font_style:"NORMAL",font_weight:"BOLD",inspirations_custom_font_object:{font_postscript_name:(a==null?void 0:(b=a.satpData)==null?void 0:b.fontName)||null,font_url:(a==null?void 0:(c=a.satpData)==null?void 0:c.fontUrl)||null,id:(a==null?void 0:(b=a.satpData)==null?void 0:b.fontID)||null},portrait_background_image:{uri:(a==null?void 0:(c=a.satpData)==null?void 0:c.background)||null},text_align:"CENTER"},with_tags:{count:0}}}}function a(a){var b=a.storyID;b=h(b);a=i(a);d("StoriesCreatePreviewUtils").storiesCreatePreviewEnvironment.commitPayload(b,babelHelpers["extends"]({},a))}g.updateStoriesPreview=a}),98);
__d("reduceStoriesCreateViewState",["StoriesCreateDefaultState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(c.type==="RESET_VIEWSTATE_SET_ERROR")return babelHelpers["extends"]({},d("StoriesCreateDefaultState").getStoriesCreateInitialState(),{errorMessage:c.errorMessage});if(c.type==="CLEAR_ERROR")return babelHelpers["extends"]({},b,{errorMessage:void 0});if(c.type==="restart")return d("StoriesCreateDefaultState").getStoriesCreateInitialState();b=b;a=a.current.keys();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;b=g(b,c)}return b}g["default"]=a}),98);
__d("useStoriesCreateViewStateAndRelayUpdater",["StoriesCreateDefaultState","StoriesCreatePreviewUpdater","cr:1326771","react","reduceStoriesCreateViewState","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useReducer,k=b.useRef;function l(a){a=a.storyID;a=babelHelpers["extends"]({},d("StoriesCreateDefaultState").getStoriesCreateInitialState(),{storyID:a});d("StoriesCreatePreviewUpdater").updateStoriesPreview(a);return a}function a(){var a=k(new Map()),b=c("useDebouncedComet")(function(a){d("StoriesCreatePreviewUpdater").updateStoriesPreview(a)},{wait:20}),e=i(function(d,e){e=c("reduceStoriesCreateViewState")(a,d,e);e!==d&&b(e);return e},[b]);e=j(e,{storyID:"add_later"},l);var f=e[0];e=e[1];return[f,e,a]}g["default"]=a}),98);
__d("StoriesCreateRoot.react",["CometPlaceholder.react","CometTransientDialogProvider.react","StoriesCreateContext","StoriesCreateRootPlaceholder.react","StoriesCreateUtils","StoriesCreateViewStateContext","StoriesCreateViewStateDispatcherContext","StoriesCreateViewStateReducersContext","deferredLoadComponent","react","requireDeferredForDisplay","useRoutePassthroughProps","useStoriesCreateViewStateAndRelayUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("StoriesCreate.react").__setRef("StoriesCreateRoot.react"));function a(a){a=a.queries;var e=b("useRoutePassthroughProps"),f=e(),g=d("StoriesCreateUtils").StoriesCreateUtils.getStoriesBeginningViewState(f==null?void 0:f.media);e=c("useStoriesCreateViewStateAndRelayUpdater")();var h=e[0],l=e[1];e=e[2];var m=j(function(){return f!=null?babelHelpers["extends"]({},h,g):h},[g,f,h]);return i.jsx(c("StoriesCreateViewStateReducersContext").Provider,{value:e,children:i.jsx(c("StoriesCreateViewStateContext").Provider,{value:m,children:i.jsx(c("StoriesCreateViewStateDispatcherContext").Provider,{value:l,children:i.jsx(c("StoriesCreateContext").Provider,{value:!0,children:i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("StoriesCreateRootPlaceholder.react"),{}),children:i.jsx(k,{queryReference:a.storiesCreateQueryReference})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StoriesCreateFormExitUtils",["StoriesCreateConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=d("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return{body:a.BODY,title:a.TITLE}};g.exitDialogInformation=a}),98);
__d("ctaValidator",["StoriesCreateMediaTypeEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d;if(((d=a.formData)==null?void 0:d.mediaType)===c("StoriesCreateMediaTypeEnum").SATP&&(((d=a.satpData)==null?void 0:d.text)==null||a.satpData.text.trim().length===0)){b({type:"satp_update_input_error"});return!1}return!0}g["default"]=a}),98);
__d("satpValidator",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.ctaLinkData;var c=a.ctaType;a=a.link;if(c!=null&&(a===""||a==null)){b({error:!0,type:"CTA_UPDATE_LINK_INPUT_ERROR"});return!1}return!0}f["default"]=a}),66);
__d("storiesCreateFormValidationUtils",["ctaValidator","satpValidator"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a.some(function(a){return(a=a)!=null?a:!1})};a=function(a,b,d){var e=c("ctaValidator")(a,b);a=c("satpValidator")(a,b);e&&a&&d()};b=function(a){var b,c=a.isUploading;a=a.viewState;b=h([a.ctaLinkData.linkInputError,((b=a.mediaAttachments)==null?void 0:(b=b[0])==null?void 0:b.fileType)==="PHOTO"&&((b=a.photoData)==null?void 0:b.displayedURI)==null,(b=a.satpData)==null?void 0:b.inputError]);a=(a=(a=a.videoData)==null?void 0:a.isTrimming)!=null?a:!1;return b||c||a};g.useFormHasErrors=h;g.validateForm=a;g.useFormSubmitDisabled=b}),98);
__d("useStoriesCreateFormExitConfirmation",["StoriesCreateConstants","useOnBeforeUnload"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){c("useOnBeforeUnload")(function(){if(a)return;var c=d("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return{primaryButtonLabel:c.CONFIRM,secondaryButtonLabel:c.CANCEL,title:b,warnMessage:e}})}g["default"]=a}),98);
__d("useStoriesCreateFormHandler",["Actor","CometRelay","QPLUserFlow","QuickPerformanceLogger","StoriesCreateConstants","StoriesCreateFormExitUtils","StoriesCreateMediaUploaderContext","StoriesCreateViewStateContext","StoriesCreateViewStateDispatcherContext","cloneOverlayNode","qpl","react","requireDeferred","storiesCreateFormValidationUtils","useCometConfirmationDialog","useMinifiedProductAttribution","useNotificationsTrackingString","usePrevious","useStoriesCreateFormExitConfirmation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=c("requireDeferred")("StoriesCreateMutation").__setRef("useStoriesCreateFormHandler");function a(a,b,e,f,g,i){var n=d("CometRelay").useRelayEnvironment(),o=k(c("StoriesCreateViewStateContext")),p=k(c("StoriesCreateViewStateDispatcherContext")),q=d("Actor").useActor(),r=q[0];q=c("usePrevious")(a);var s=q===!1&&a===!0&&i,t=c("useNotificationsTrackingString")();q=k(c("StoriesCreateMediaUploaderContext"));var u=q.uploader,v=c("useMinifiedProductAttribution")(),w=j(function(){var a,d=o.stickerData,h=o.textOverlays,i=(a=o.overlayRef)==null?void 0:a.current;(h!=null&&h.overlays.length!==0||d!=null&&(d.stickers.length!==0||(d==null?void 0:(a=d.musicSticker)==null?void 0:a.song)!=null))&&i!=null&&(i=c("cloneOverlayNode")({overlayIds:(h==null?void 0:h.overlays.map(function(a){return a.id}))||[],overlayNode:i}));if(u==null)return;var j=function(){f(),e()};m.onReady(function(a){a.createStories(o,r,n,u,i,g,function(a){return b(a,w)},j,t,v)})},[r,n,v,b,e,f,g,t,u,o]),x=c("useCometConfirmationDialog")();i=d("storiesCreateFormValidationUtils").useFormSubmitDisabled({isUploading:a,viewState:o});var y=d("StoriesCreateFormExitUtils").exitDialogInformation();l(function(){s&&(g!=null&&((h||(h=c("QuickPerformanceLogger"))).markerEnd(g,4),h.markerStart(g)),w())},[w,e,g,s]);c("useStoriesCreateFormExitConfirmation")(a,y.title,y.body);q=function(){d("storiesCreateFormValidationUtils").validateForm(o,p,function(){p({type:"set_is_uploading",value:!0})}),c("QPLUserFlow").endSuccess(c("qpl")._(13250512,"1219"))};var z=d("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;a=function(){x({body:y.body,cancel:z.CANCEL,confirm:z.CONFIRM,title:y.title},function(){p({type:"restart"}),c("QPLUserFlow").endFailure(c("qpl")._(13250512,"1219"),"User canceled")})};return{handleDiscard:a,handleSubmit:q,submitDisabled:i}}g["default"]=a}),98);
__d("StoriesCreateFormFooterBase.react",["fbt","StoriesCreateConstants","TetraButton.react","react","useStoriesCreateFormHandler","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function a(a){var b=a.isUploading,e=a.onError,f=a.onNavigate,g=a.onSuccess;a=a.qplEvent;var i=k(!1),l=i[0],m=i[1];i=c("useStoriesCreateFormHandler")(b,e,f,g,a,l);e=i.handleDiscard;var n=i.handleSubmit;f=i.submitDisabled;g=d("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return j.jsxs("div",{className:"x6s0dn4 x1jx94hy x10h3on x78zum5 x1q0g3np xy75621 x1qughib x1ye3gou xn6708d",children:[j.jsx("div",{className:"x1iyjqo2 x1vqgdyp xsgj6o6 xw3qccf",children:j.jsx(c("TetraButton.react"),{disabled:b,label:g.CONFIRM,onPress:e,size:"medium",type:"secondary"})}),j.jsx("div",{className:"x1iyjqo2 x1vqgdyp xsgj6o6 xw3qccf",children:j.jsx(c("TetraButton.react"),{disabled:f,label:h._("__JHASH__Hma_aNaVwIc__JHASH__"),onPress:function(){n(),m(!0)},size:"medium"})})]})}a.displayName=a.name+" [from "+f.id+"]";b=c("withStoriesCreateViewStatePart")(a,function(a){return{isUploading:(a=a.isUploading)!=null?a:!1}});g["default"]=b}),98);
__d("useStoriesCreateFormUpload",["fbt","ix","CometRouteRenderType","StoriesCreateMediaTypeEnum","TetraIcon.react","XCometStoriesControllerRouteBuilder","cometPushToast","fbicon","qpl","react","requireDeferred","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("requireDeferred")("SilenceableErrorMessageUtils").__setRef("useStoriesCreateFormUpload");function a(a,b){var e=c("useCometRouterDispatcher")(),f=d("CometRouteRenderType").useIsPushView(),g=function(){if(e==null)return;if(f&&e.popPushView){e.popPushView();return}var b={composerSessionID:a},d=c("XCometStoriesControllerRouteBuilder").buildURL({});e.go(d,{passthroughProps:b,target:"self"})},j=function(a,b){l.onReady(function(e){var f=e.getMetadataFromError;e=e.shouldHideErrorMessage;if(e(f(a)))return;d("cometPushToast").cometPushToast({action:{label:h._("__JHASH__Ld5TVFw7v5x__JHASH__"),onPress:b},icon:k.jsx(c("TetraIcon.react"),{color:"negative",icon:d("fbicon")._(i("681772"),24)}),message:h._("__JHASH__16HF7KbBh9j__JHASH__")},1e4)})};b=b===c("StoriesCreateMediaTypeEnum").PHOTO?c("qpl")._(13238398,"6208"):b===c("StoriesCreateMediaTypeEnum").SATP?c("qpl")._(13238399,"1040"):void 0;var m=function(){};return{onError:j,onNavigate:g,onSuccess:m,qplEvent:b}}g["default"]=a}),98);
__d("StoriesCreateFormFooter.react",["StoriesCreateFormFooterBase.react","react","useStoriesCreateFormUpload","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.composerSessionID;a=a.mediaType;b=c("useStoriesCreateFormUpload")(b,a);a=b.onError;var d=b.onNavigate,e=b.onSuccess;b=b.qplEvent;return i.jsx(c("StoriesCreateFormFooterBase.react"),{onError:a,onNavigate:d,onSuccess:e,qplEvent:b})}a.displayName=a.name+" [from "+f.id+"]";b=c("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID,mediaType:(a=a.formData)==null?void 0:a.mediaType}});g["default"]=b}),98);